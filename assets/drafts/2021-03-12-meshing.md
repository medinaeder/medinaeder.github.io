
---
layout: post
title: Point Clouds
---

During Patrick's most recent visit he added a nifty little feature that allows one to refine a mesh in a smart way. 

There have been some bugs and from my early days of writing a python version of distmesh (now obselete thanks to ...) I realized that I could fix some of the projections in 2D. It's not anything clever. 

One of the drawbacks from OCCMH is that it doesn't let you use your own surface labeling conventions. This can be a bit annoying because you don't know how many faces you actually have and where they are at. So applying boundary conditions on complicated geometries is quite tedious.

Here is the problem: 
You have a of boundary points, effectively a point cloud. The idea is you have some cad representation of the true geometry that you want to move your points to. Your initial mesh was a bit off because you used coarse elements and you don't properly refine the boundary. Here are the operations I have at my disposal. push to surface. This returns coordinates. You effectively also have the distance you were pushed to. 

How do I pick my surface? If you pick the closest one. That doesn't work in general. But that is effectively all of the information I have.  I just have distance and direction. Direction doesn't help. If the faces intersect and an edge I could look at the dot product between the two vectors but that doesn't work either. 


Oh and edge cases. Literally projecting to edges. 

I need more information. Time to give everyone a label. If I have a label I can find what triangles the point belongs too and this clears everything up. I can use normals find out whether I am on an edge. Etc. 

